:root {
  /* Updated colors for Accessibility (WCAG AA Contrast) */
  --primary: #4f46e5; /* Darker Indigo for better text contrast */
  --primary-hover: #4338ca;
  --success: #047857; /* Darker Green for readable white text */
  --text-main: #1f2937;
  --text-muted: #4b5563; /* Darkened from #6b7280 for better readability */
  --bg-page: #f9fafb;
  --bg-card: #ffffff;
  --border: #e5e7eb;
  --radius: 12px;
  --radius-sm: 8px;
}

body {
  margin: 0;
  font-family: 'Inter', system-ui, -apple-system, sans-serif;
  background-color: var(--bg-page);
  color: var(--text-main);
  line-height: 1.5;
  -webkit-font-smoothing: antialiased;
}

/* Header */
.site-header { background: #fff; border-bottom: 1px solid var(--border); padding: 1rem 0; margin-bottom: 2rem; }
.header-inner { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; display: flex; justify-content: space-between; align-items: center; }
.logo { font-weight: 800; font-size: 1.5rem; letter-spacing: -0.5px; }
.site-nav a { margin-left: 1.5rem; text-decoration: none; color: var(--text-main); font-weight: 500; font-size: 0.95rem; }
.site-nav a:hover { color: var(--primary); }

/* Main Layout */
main { 
  max-width: 1200px; 
  margin: 0 auto; 
  /* 5% Padding as requested for better spacing */
  padding: 0 5% 4rem; 
}
.breadcrumb { margin-bottom: 1.5rem; }
.breadcrumb a { text-decoration: none; color: var(--text-muted); font-size: 0.9rem; font-weight: 500; }

/* --- PRODUCT PAGE LAYOUT --- */
.product-page { display: flex; flex-direction: column; gap: 3rem; }

/* Top Row: Media (Left) + Info (Right) */
.product-main-row {
  display: grid;
  grid-template-columns: 55% 45%;
  gap: 2.5rem;
  align-items: start;
}

/* Left Column: Media */
.product-media-col {
  display: flex; flex-direction: column; gap: 1rem;
  position: sticky; top: 1rem; height: fit-content; z-index: 10;
}

/* Right Column: Info & Form */
.product-info-col { display: flex; flex-direction: column; gap: 1.5rem; }
.product-desc-row { width: 100%; }

/* Video Player */
.video-wrapper {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9;
  background: #000;
  border-radius: var(--radius);
  overflow: hidden;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
}

.video-wrapper .plyr {
  width: 100%;
  height: 100%;
  overflow: hidden;
  border-radius: inherit;
}

.video-wrapper video {
  width: 100%;
  height: 100%;
  object-fit: contain !important;
  background-size: contain !important;
  display: block;
}

.video-wrapper img.main-img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  display: block;
}

.video-wrapper .plyr__poster {
  width: 100% !important;
  height: 100% !important;
  object-fit: contain !important;
  background-size: contain !important;
  background-position: center;
  background-repeat: no-repeat;
}

.plyr__video-wrapper video { object-fit: contain !important; }
.video-wrapper { --plyr-color-main: var(--primary); }

/* Thumbnails */
.thumbnails {
  display: flex;
  gap: 12px;
  overflow-x: auto;
  scroll-behavior: smooth;
  padding: 8px 0;
  scrollbar-width: thin;
  scrollbar-color: rgba(102, 126, 234, 0.5) rgba(0, 0, 0, 0.1);
}

/* Webkit scrollbar styling for thumbnail slider */
.thumbnails::-webkit-scrollbar {
  height: 6px;
}

.thumbnails::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.05);
  border-radius: 3px;
}

.thumbnails::-webkit-scrollbar-thumb {
  background: rgba(102, 126, 234, 0.5);
  border-radius: 3px;
}

.thumbnails::-webkit-scrollbar-thumb:hover {
  background: rgba(102, 126, 234, 0.8);
}

.thumb {
  min-width: 140px;
  width: 140px;
  height: 100px;
  object-fit: cover;
  border-radius: 10px;
  cursor: pointer;
  border: 3px solid transparent;
  transition: all 0.3s;
  background: #f3f4f6;
}

.thumb:hover {
  border-color: var(--primary);
  transform: scale(1.05);
}

.thumb.active {
  border-color: #667eea !important;
}

/* Info Panel Styling */
.product-info-panel {
  background: #fff; padding: 2rem;
  border-radius: var(--radius); border: 1px solid var(--border);
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05);
}
.product-title { font-size: 2rem; font-weight: 800; line-height: 1.2; margin: 0 0 0.5rem 0; letter-spacing: -0.5px; }
.rating-row { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1.5rem; }
.stars { color: #fbbf24; }
.review-count { font-size: 0.9rem; color: var(--text-muted); font-weight: 500; }

.badges-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 1rem; }
.badge-box { padding: 1rem; border-radius: var(--radius-sm); color: #fff; text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center; }
.badge-delivery { background-color: var(--success); }
.badge-delivery .icon { font-size: 1.2rem; margin-bottom: 0.25rem; }
.badge-delivery #delivery-badge-text { font-weight: 700; font-size: 0.95rem; line-height: 1.2; }

/* Accessible Price Color (High Contrast) */
.badge-price { background-color: #5b21b6; /* Dark Purple */ } 
.price-final { font-size: 1.5rem; font-weight: 800; }
.price-original { font-size: 0.9rem; text-decoration: line-through; opacity: 0.9; margin-left: 5px; color: #e5e7eb; /* Light grey on dark bg */ }
.discount-tag { font-size: 0.8rem; background: #fff; color: #5b21b6; padding: 2px 8px; border-radius: 4px; margin-top: 4px; display: inline-block; font-weight: 700; }

.digital-note { background: #ecfdf5; border: 1px solid #d1fae5; color: #065f46; padding: 0.75rem; border-radius: var(--radius-sm); font-size: 0.9rem; display: flex; align-items: center; gap: 0.5rem; margin-bottom: 2rem; }

/* Addons */
.addons-container { margin-top: 1.5rem; border-top: 1px dashed var(--border); padding-top: 1.5rem; }
.addon-group { margin-bottom: 1.5rem; }
.addon-group-label { display: block; font-weight: 700; margin-bottom: 0.75rem; font-size: 1rem; }
.form-input, .form-select, .form-textarea { width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: var(--radius-sm); font-size: 0.95rem; font-family: inherit; box-sizing: border-box; }
.form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2); }

.addon-option-card { display: flex; align-items: center; padding: 0.75rem; border: 1px solid var(--border); border-radius: var(--radius-sm); margin-bottom: 0.5rem; cursor: pointer; transition: all 0.2s; background: #fff; }
.addon-option-card:hover { background: #f9fafb; border-color: #d1d5db; }
.addon-option-card.selected { border-color: var(--primary); background: #eef2ff; }
.addon-option-card input { margin-right: 0.75rem; transform: scale(1.2); }
.opt-label { flex: 1; font-weight: 500; }
.opt-price { color: var(--primary); font-weight: 600; font-size: 0.9rem; margin-left: auto; }

.btn-buy { display: block; width: 100%; background: var(--primary); color: #fff; font-size: 1.1rem; font-weight: 700; padding: 1rem; border: none; border-radius: var(--radius-sm); cursor: pointer; transition: background 0.2s; margin-top: 1.5rem; text-align: center; }
.btn-buy:hover { background: var(--primary-hover); transform: translateY(-1px); }

/* Description */
.product-desc { background: #fff; padding: 2rem; border-radius: var(--radius); border: 1px solid var(--border); }
.product-desc h2, .product-desc h3 { margin-top: 0; font-size: 1.25rem; margin-bottom: 1rem; }
.product-desc p { color: #4b5563; margin-bottom: 1rem; }

/* Admin & Utils */
.loading-state { text-align: center; padding: 4rem 0; }
.spinner { border: 4px solid #f3f3f3; border-top: 4px solid var(--primary); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 0 auto 1rem; }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
.admin-table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
.admin-table th, .admin-table td { padding: 0.75rem 1rem; border-bottom: 1px solid var(--border); text-align: left; }
.admin-table th { background: #f9fafb; font-weight: 600; color: var(--text-muted); font-size: 0.9rem; }
.admin-page { padding: 2rem 1rem; background: #f3f4f6; }
.admin-shell { max-width: 1000px; margin: 0 auto; }
.admin-header { margin-bottom: 2rem; }
.admin-header h1 { font-size: 1.8rem; margin: 0 0 0.5rem 0; }
/*
  Admin form styling improvements

  The following rules provide a more polished and cohesive look for all admin
  pages.  They apply increased padding, subtle shadows and consistent
  typography to input elements.  Grid templates are responsive to
  accommodate various screen sizes while maintaining readability.
*/

.admin-page .card-section {
  background: var(--bg-card);
  border-radius: var(--radius);
  padding: 2rem;
  margin-bottom: 2rem;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.admin-page .form-grid-2 {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  gap: 1rem;
}

.admin-page .form-field {
  margin-bottom: 1rem;
}

.admin-page .form-field-inline label {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  margin-top: 1.8rem;
}

.admin-page .field-group {
  border: 1px solid var(--border);
  background: var(--bg-page);
  border-radius: var(--radius-sm);
  padding: 1rem;
  margin-bottom: 1.5rem;
}

/* make legend stand out */
.admin-page .field-group legend {
  font-weight: 700;
  margin-bottom: 0.5rem;
}

.admin-page label {
  font-weight: 600;
  display: block;
  margin-bottom: 0.3rem;
}

/* Reusable button styles for admin pages */
.btn {
  display: inline-block;
  font-weight: 600;
  border: none;
  border-radius: var(--radius-sm);
  padding: 0.6rem 1rem;
  cursor: pointer;
  transition: background 0.2s, color 0.2s;
  font-size: 0.9rem;
  line-height: 1.2;
}
.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}
.btn-primary {
  background: var(--primary);
  color: #fff;
}
.btn-primary:hover {
  background: var(--primary-hover);
}
.btn-secondary {
  background: #e5e7eb;
  color: var(--text-main);
}
.btn-secondary:hover {
  background: #d1d5db;
}

.admin-page input[type="text"],
.admin-page input[type="number"],
.admin-page input[type="file"],
.admin-page textarea {
  width: 100%;
  border: 1px solid var(--border);
  border-radius: var(--radius-sm);
  padding: 0.6rem 0.75rem;
  font-size: 0.95rem;
  font-family: inherit;
  box-sizing: border-box;
  margin-top: 0.25rem;
}

.admin-page input[type="file"] {
  padding: 0.4rem 0.75rem;
}

.admin-page textarea {
  resize: vertical;
  min-height: 120px;
}

.admin-page .form-actions {
  margin-top: 2rem;
}


@media (max-width: 900px) {
  .product-main-row { display: flex; flex-direction: column; gap: 2rem; }
  .product-media-col { position: static !important; width: 100% !important; max-width: 100% !important; }
  .product-info-col { width: 100%; }
  .form-grid-2 { grid-template-columns: 1fr; }
  .form-field-inline label { margin-top: 0; }

  /* Thumbnail slider mobile optimization */
  .thumbnails {
    gap: 8px;
    padding: 6px 0;
  }

  .thumb {
    min-width: 120px;
    width: 120px;
    height: 85px;
  }
  .product-info-panel { padding: 0; border: none; box-shadow: none; }
  .product-title { font-size: 1.75rem; }
}


/* Mobile optimizations */
@media screen and (max-width: 768px) {
  .video-wrapper { max-height: 50vh; }
  .video-wrapper video { object-fit: contain !important; max-height: 50vh; }
}

/* Fix for disappearing play button on hover */
.plyr--video:hover .plyr__control--overlaid {
  opacity: 1 !important;
  visibility: visible !important;
}

/* Thumb wrapper - ensure stacking context */
.thumb-wrapper {
  position: relative;
  display: inline-block;
  overflow: visible;
  z-index: 1;
}

/* Keep play button visible on thumbnail hover - always visible */
.thumb-play-btn {
  opacity: 1 !important;
  visibility: visible !important;
  transition: background 0.2s ease;
  z-index: 100 !important;
  pointer-events: none;
}

.thumb-wrapper:hover .thumb-play-btn,
.thumb-wrapper .thumb:hover ~ .thumb-play-btn,
div:hover > .thumb-play-btn,
div:hover .thumb-play-btn,
*:hover > .thumb-play-btn,
*:hover .thumb-play-btn {
  opacity: 1 !important;
  visibility: visible !important;
  background: rgba(0,0,0,0.85) !important;
  z-index: 100 !important;
}

/* Force play button visibility on thumbnail hover (main slider) */
.thumb-wrapper:hover .thumb-play-btn {
  opacity: 1 !important;
  visibility: visible !important;
  z-index: 200 !important;
  display: flex !important;
  pointer-events: none;
}

/* Ensure img transform doesn't hide play button */
.thumb-wrapper .thumb {
  position: relative;
  z-index: 1;
}

.thumb-wrapper .thumb:hover {
  z-index: 1;
}

